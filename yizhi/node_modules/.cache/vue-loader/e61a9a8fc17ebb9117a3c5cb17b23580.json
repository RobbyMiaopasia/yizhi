{"remainingRequest":"D:\\shixun\\yizhi\\yizhi\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\shixun\\yizhi\\yizhi\\src\\components\\ProvinceMap.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\shixun\\yizhi\\yizhi\\src\\components\\ProvinceMap.vue","mtime":1629769233068},{"path":"D:\\shixun\\yizhi\\yizhi\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\shixun\\yizhi\\yizhi\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\shixun\\yizhi\\yizhi\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\shixun\\yizhi\\yizhi\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\shixun\\yizhi\\yizhi\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmNvbS1jaGFydCB7DQogIHBhZGRpbmc6IDIwcHg7DQp9DQo="},{"version":3,"sources":["ProvinceMap.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4IA;AACA;AACA","file":"ProvinceMap.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"com-container\">\r\n    <div class=\"com-chart\" id=\"map_ref\" ref=\"promap_ref\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n// import { getProvinceMapInfo } from \"../utils/map_utils\";\r\nexport default {\r\n  name: \"provincemap\",\r\n  data() {\r\n    return {\r\n      chartInstance: null,\r\n      allData: null,\r\n      mapData: {}, // 所获取的省份的地图矢量数据\r\n      //   provinceName:provinceInfo.key,\r\n      //   provincePath:provinceInfo.path,\r\n      provinceName: \"hubei\",\r\n      provincePath: \"/static/map/json/province/hubei.json\",\r\n    };\r\n  },\r\n  mounted() {\r\n    this.initEchartMap();\r\n    // this.getData();\r\n    window.addEventListener(\"resize\", this.screenAdapter);\r\n    this.screenAdapter();\r\n  },\r\n\r\n  destroyed() {\r\n    window.removeEventListener(\"resize\", this.screenAdapter);\r\n  },\r\n\r\n  methods: {\r\n    async initEchartMap() {\r\n      //初始化echart对象\r\n      this.echarts = require(\"echarts\");\r\n      this.chartInstance = this.echarts.init(this.$refs.promap_ref, \"chalk\");\r\n\r\n      //获取省份地图矢量数据\r\n      const ret = await axios.get(\"http://localhost:8081\" + this.provincePath);\r\n      this.echarts.registerMap(this.provinceName, ret.data);\r\n\r\n      const options = {\r\n        title: {\r\n          text: \"省份现存确诊分布图\",\r\n          left: \"center\",\r\n          top: 20,\r\n        },\r\n        visualMap: {\r\n          itemHight: 10,\r\n          itemWidth: 15,\r\n          textGap: 10,\r\n          show: true,\r\n          left: \"80%\",\r\n          bottom: \"5%\",\r\n          showLabel: true,\r\n          pieces: [\r\n            // gt: greater than 大于\r\n            // gte: greater than or equal 大于等于\r\n            // lt: less than 小于\r\n            // lte: less than or equal 小于等于\r\n            {\r\n              gte: 1000,\r\n              label: \">= 1000\",\r\n              color: \"#1f307b\",\r\n            },\r\n            {\r\n              gte: 500,\r\n              lt: 999,\r\n              label: \"500 - 999\",\r\n              color: \"#3c57ce\",\r\n            },\r\n            {\r\n              gte: 100,\r\n              lt: 499,\r\n              label: \"100 - 499\",\r\n              color: \"#6f83db\",\r\n            },\r\n            {\r\n              gte: 10,\r\n              lt: 99,\r\n              label: \"10 - 99\",\r\n              color: \"#9face7\",\r\n            },\r\n            {\r\n              lt: 10,\r\n              label: \"<10\",\r\n              color: \"#bcc5ee\",\r\n            },\r\n          ],\r\n        },\r\n        geo: {\r\n          type: \"map\",\r\n          map: this.provinceName,\r\n          top: \"10%\",\r\n          bottom: \"10%\",\r\n          scaleLimit: {\r\n            min: 1,\r\n            max: 2,\r\n          },\r\n          zoom: 1,\r\n          label: {\r\n            show: true,\r\n            fontSize: \"14\",\r\n            color: \"rgba(0,0,0,0.7)\",\r\n          },\r\n          emphasis: {\r\n            borderColor: \"rgba(0, 0, 0, 0.2)\",\r\n            itemStyle: {\r\n              areaColor: \"#f2d5ad\",\r\n              shadowOffsetX: 0,\r\n              shadowOffsetY: 0,\r\n              borderWidth: 0,\r\n            },\r\n          },\r\n        },\r\n      };\r\n\r\n      this.chartInstance.setOption(options);\r\n    },\r\n\r\n    //适配分辨率\r\n    screenAdapter() {\r\n      const titleFontSize = (this.$refs.promap_ref.offsetWidth / 100) * 3.4;\r\n      const adapterOption = {\r\n        title: {\r\n          textStyle: {\r\n            fontSize: titleFontSize,\r\n          },\r\n        },\r\n      };\r\n      this.chartInstance.setOption(adapterOption);\r\n      this.chartInstance.resize();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.com-chart {\r\n  padding: 20px;\r\n}\r\n</style>"]}]}